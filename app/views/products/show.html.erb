<div class="row p-4 rounded-2 mb-5" style="margin-top: 5%; margin-left: 20%; margin-right: 20%; background-color: lightgray;">
  <div class="col-md-6">
    <div id="productCarousel" class="carousel slide " data-bs-ride="carousel" style="width: 18vw; height: 7vw;">
      <div class="carousel-inner rounded-2">
        <% if @product.photo1.attached? %>
          <div class="carousel-item active">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
    <title>Placeholder</title>
    <rect width="100%" height="100%" fill="#55595c"></rect>
    <text x="50%" y="50%" fill="#eceeef" dy=".3em" text-anchor="middle" alignment-baseline="middle">foto 1 </text>
</svg>
          </div>
        <% end %>

        <% if @product.photo2.attached? %>
          <div class="carousel-item">
            <svg class="bd-placeholder-img card-img-top" width="100%" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <rect width="100%" height="100%" fill="#55595c"></rect>
                <text x="50%" y="50%" fill="#eceeef" dy=".3em" text-anchor="middle" alignment-baseline="middle">foto 2 </text>
            </svg>
          </div>
        <% end %>

        <% if @product.photo3.attached? %>
          <div class="carousel-item">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
    <title>Placeholder</title>
    <rect width="100%" height="100%" fill="#55595c"></rect>
    <text x="50%" y="50%" fill="#eceeef" dy=".3em" text-anchor="middle" alignment-baseline="middle">foto 3 </text>
</svg>
          </div>
        <% end %>
      </div>
      <div style="margin-top: 15%; margin-left: 20%; margin-right: 20%;">
        <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

    </div>
  </div>

  <div class="col-md-6 ">
    <h3 class="text-dark mt-3 mr-5">
      <%= @product.name %>
    </h3>
    <p>No estoque: <%= @product.quantity %></p>

    <h1 class="text-center" style="margin-top:48px; margin-bottom:24px"><strong>R$ <%= @product.valueSell %></strong></h1>

<div class="text-center mb-2">
  <%= form_tag comprar_product_path(@product), method: :post, class: "mb-4" do %>
    <%= button_tag type: "submit", class: "btn btn-secondary my-4 px-5" do %>
      <h4>Comprar</h4>
    <% end %>
  <% end %>
</div>

      <p class="pt-4">dimens√µes<%= @product.depth %>x<%= @product.width %>x<%= @product.length %></p>
      <p><%= @product.description %></p>

  </div>

</div class="pb-5">

<script>
document.addEventListener("DOMContentLoaded", function() {
  const productCarousel = new bootstrap.Carousel(document.getElementById("productCarousel"));

  // Atualizar a foto principal ao clicar em um slide do carrossel
  productCarousel._element.addEventListener("slid.bs.carousel", function(event) {
    const activePhoto = event.relatedTarget.querySelector("img");
    const mainPhoto = document.getElementById("main-photo");
  });
});
</script>
